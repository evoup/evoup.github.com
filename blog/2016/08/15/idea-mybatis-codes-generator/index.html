<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>mybatis生成器生成代码 - Evoup`s Blog</title>
  <meta name="author" content="Evoup`s Blog">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://evoupsight.com/blog/2016/08/15/idea-mybatis-codes-generator">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Evoup`s Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  

</head>





<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>




  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Evoup`s Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                <li >
                    <a href="/blog/opensource">开源项目</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:evoupsight.com">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <article class="hentry" role="article">
      
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2016-08-15T13:45:00+08:00" pubdate data-updated="true">Aug 15<span>th</span>, 2016</time>
        
      </p>
    
    
    <h1 class="entry-title">
        Mybatis生成器生成代码
        
    </h1>
    
  </header>


<div class="entry-content clearfix"><p>这里记录官方的控制台生成方法。 </p>

<!-- more -->

<p>插件的下载</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line"><span class="nb">cd</span> ~/software
</span><span class="line">mkdir mybatisGenerator
</span><span class="line"><span class="nb">cd</span> !<span class="err">$</span>
</span><span class="line">git clone git@github.com:mybatis/generator.git
</span><span class="line"><span class="nb">cd </span>generator/core/mybatis-generator-core
</span><span class="line">mvn clean package
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>编译后在target目录生成了mybatis-generator-core-1.3.4-SNAPSHOT.jar </p>

<p>接着还需要准备好mysql的java驱动包</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line"><span class="nb">cd</span> ~/software
</span><span class="line">wget http://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-5.1.39.tar.gz
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>然后创建generatorConfig.xml（注：不一定非得像其他教程说的那样非得放到项目的resources目录下）,内容如下：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
</pre></td><td class="code"><pre><code class="xml"><span class="line"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class="line"><span class="cp">&lt;!DOCTYPE generatorConfiguration</span>
</span><span class="line"><span class="cp">  PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span>
</span><span class="line"><span class="cp">  &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;</span>
</span><span class="line">
</span><span class="line"><span class="nt">&lt;generatorConfiguration&gt;</span>
</span><span class="line">  <span class="nt">&lt;classPathEntry</span> <span class="na">location=</span><span class="s">&quot;/Program Files/IBM/SQLLIB/java/db2java.zip&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">
</span><span class="line">  <span class="nt">&lt;context</span> <span class="na">id=</span><span class="s">&quot;DB2Tables&quot;</span> <span class="na">targetRuntime=</span><span class="s">&quot;MyBatis3&quot;</span><span class="nt">&gt;</span>
</span><span class="line">    <span class="nt">&lt;jdbcConnection</span> <span class="na">driverClass=</span><span class="s">&quot;COM.ibm.db2.jdbc.app.DB2Driver&quot;</span>
</span><span class="line">        <span class="na">connectionURL=</span><span class="s">&quot;jdbc:db2:TEST&quot;</span>
</span><span class="line">        <span class="na">userId=</span><span class="s">&quot;db2admin&quot;</span>
</span><span class="line">        <span class="na">password=</span><span class="s">&quot;db2admin&quot;</span><span class="nt">&gt;</span>
</span><span class="line">    <span class="nt">&lt;/jdbcConnection&gt;</span>
</span><span class="line">
</span><span class="line">    <span class="nt">&lt;javaTypeResolver</span> <span class="nt">&gt;</span>
</span><span class="line">      <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;forceBigDecimals&quot;</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">    <span class="nt">&lt;/javaTypeResolver&gt;</span>
</span><span class="line">
</span><span class="line">    <span class="nt">&lt;javaModelGenerator</span> <span class="na">targetPackage=</span><span class="s">&quot;test.model&quot;</span> <span class="na">targetProject=</span><span class="s">&quot;\MBGTestProject\src&quot;</span><span class="nt">&gt;</span>
</span><span class="line">      <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;enableSubPackages&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">      <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;trimStrings&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">    <span class="nt">&lt;/javaModelGenerator&gt;</span>
</span><span class="line">
</span><span class="line">    <span class="nt">&lt;sqlMapGenerator</span> <span class="na">targetPackage=</span><span class="s">&quot;test.xml&quot;</span>  <span class="na">targetProject=</span><span class="s">&quot;\MBGTestProject\src&quot;</span><span class="nt">&gt;</span>
</span><span class="line">      <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;enableSubPackages&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">    <span class="nt">&lt;/sqlMapGenerator&gt;</span>
</span><span class="line">
</span><span class="line">    <span class="nt">&lt;javaClientGenerator</span> <span class="na">type=</span><span class="s">&quot;XMLMAPPER&quot;</span> <span class="na">targetPackage=</span><span class="s">&quot;test.dao&quot;</span>  <span class="na">targetProject=</span><span class="s">&quot;\MBGTestProject\src&quot;</span><span class="nt">&gt;</span>
</span><span class="line">      <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;enableSubPackages&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">    <span class="nt">&lt;/javaClientGenerator&gt;</span>
</span><span class="line">
</span><span class="line">    <span class="nt">&lt;table</span> <span class="na">schema=</span><span class="s">&quot;DB2ADMIN&quot;</span> <span class="na">tableName=</span><span class="s">&quot;ALLTYPES&quot;</span> <span class="na">domainObjectName=</span><span class="s">&quot;Customer&quot;</span> <span class="nt">&gt;</span>
</span><span class="line">      <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;useActualColumnNames&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</span><span class="line">      <span class="nt">&lt;generatedKey</span> <span class="na">column=</span><span class="s">&quot;ID&quot;</span> <span class="na">sqlStatement=</span><span class="s">&quot;DB2&quot;</span> <span class="na">identity=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">      <span class="nt">&lt;columnOverride</span> <span class="na">column=</span><span class="s">&quot;DATE_FIELD&quot;</span> <span class="na">property=</span><span class="s">&quot;startDate&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">      <span class="nt">&lt;ignoreColumn</span> <span class="na">column=</span><span class="s">&quot;FRED&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">      <span class="nt">&lt;columnOverride</span> <span class="na">column=</span><span class="s">&quot;LONG_VARCHAR_FIELD&quot;</span> <span class="na">jdbcType=</span><span class="s">&quot;VARCHAR&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">    <span class="nt">&lt;/table&gt;</span>
</span><span class="line">
</span><span class="line">  <span class="nt">&lt;/context&gt;</span>
</span><span class="line"><span class="nt">&lt;/generatorConfiguration&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>columnOverride中的jdbcType是指数据库对应jdbc的字段类型，如果有特殊需求如mysql中的字段为text类型，而text字段默认用mybatis会再生成一个以该字段为成员变量的withBLOBs类，若想生成的java代码不要生成出withBLOBs的话，可以手动指定jdbcType=”VARCHAR”来规避。</p>

<p>接下来就是修改配置文件了
第一步先修改classPathEntry的值，把原来的/Program Files/IBM/SQLLIB/java/db2java.zip换成，现在mysql驱动:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="xml"><span class="line"><span class="nt">&lt;classPathEntry</span> <span class="na">location=</span><span class="s">&quot;/home/evoup/software/mysql-connector-java-5.1.39.tar.gz&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>然后注意到context id=”DB2Tables”,这个如果是单个表的话不改也没什么问题，但是根据文档 </p>

<blockquote>
  <p>A unique identifier for this context. This value will be used in some error messages.</p>
</blockquote>

<p>只是一个上下文的标识，所以可以忽略按照默认就可以了，但是我还是把它改成了context id=”context1” 
targetRuntime=”Mybatis3”这也是一个默认的可选选项，所以可以直接去掉，所以这一段看起来是这样：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="xml"><span class="line">  <span class="nt">&lt;classPathEntry</span> <span class="na">location=</span><span class="s">&quot;/home/evoup/software/mysql-connector-java-5.1.39.tar.gz&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">  <span class="nt">&lt;context</span> <span class="na">id=</span><span class="s">&quot;context1&quot;</span> <span class="nt">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>之后要替换掉jdbc驱动类</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="xml"><span class="line"><span class="nt">&lt;jdbcConnection</span> <span class="na">driverClass=</span><span class="s">&quot;COM.ibm.db2.jdbc.app.DB2Driver&quot;</span>
</span><span class="line">    <span class="na">connectionURL=</span><span class="s">&quot;jdbc:db2:TEST&quot;</span>
</span><span class="line">    <span class="na">userId=</span><span class="s">&quot;db2admin&quot;</span>
</span><span class="line">    <span class="na">password=</span><span class="s">&quot;db2admin&quot;</span><span class="nt">&gt;</span>
</span><span class="line"><span class="nt">&lt;/jdbcConnection&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>改成</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="xml"><span class="line"><span class="nt">&lt;jdbcConnection</span> <span class="na">driverClass=</span><span class="s">&quot;com.mysql.jdbc.Driver&quot;</span> <span class="na">connectionURL=</span><span class="s">&quot;jdbc:mysql://localhost:3306/myDb&quot;</span> <span class="na">userId=</span><span class="s">&quot;root&quot;</span> <span class="na">password=</span><span class="s">&quot;&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>再接下来的</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="xml"><span class="line"><span class="nt">&lt;javaTypeResolver</span> <span class="nt">&gt;</span>
</span><span class="line">  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;forceBigDecimals&quot;</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line"><span class="nt">&lt;/javaTypeResolver&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>官方是说</p>

<blockquote>
  <p>This element specifies that we always want to use the java.math.BigDecimal type for DECIMAL and NUMERIC columns: </p>
</blockquote>

<p>是和数据库列映射到java的pojo的属性对应，可以指定成想要的类型，这里的DECIMAL和NUMERIC列想必是DB2数据库的字段类型了，这样就会强制映射成java.math.BigDecimal，我们用mysql，这个选项不得而知，应该也是同样会转换的。但我直接把这段给去了。</p>

<p>再下来的三段</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="xml"><span class="line"><span class="nt">&lt;javaModelGenerator</span> <span class="na">targetPackage=</span><span class="s">&quot;test.model&quot;</span> <span class="na">targetProject=</span><span class="s">&quot;\MBGTestProject\src&quot;</span><span class="nt">&gt;</span>
</span><span class="line">  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;enableSubPackages&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;trimStrings&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line"><span class="nt">&lt;/javaModelGenerator&gt;</span>
</span><span class="line"><span class="nt">&lt;sqlMapGenerator</span> <span class="na">targetPackage=</span><span class="s">&quot;test.xml&quot;</span>  <span class="na">targetProject=</span><span class="s">&quot;\MBGTestProject\src&quot;</span><span class="nt">&gt;</span>
</span><span class="line">  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;enableSubPackages&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line"><span class="nt">&lt;/sqlMapGenerator&gt;</span>
</span><span class="line"><span class="nt">&lt;javaClientGenerator</span> <span class="na">type=</span><span class="s">&quot;XMLMAPPER&quot;</span> <span class="na">targetPackage=</span><span class="s">&quot;test.dao&quot;</span>  <span class="na">targetProject=</span><span class="s">&quot;\MBGTestProject\src&quot;</span><span class="nt">&gt;</span>
</span><span class="line">  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;enableSubPackages&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line"><span class="nt">&lt;/javaClientGenerator&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>其中</p>

<blockquote>
  <p>The <javamodelgenerator> element is used to define properties of the Java model generator. The Java Model Generator builds primary key classes, record classes, and Query by Example classes that match the introspected table. This element is a required child element of the <context> element.</context></javamodelgenerator></p>
</blockquote>

<p>Model模型生成器,用来生成含有主键key的类，记录类 以及查询Example类。targetPackage是指定生成的model生成所在的包名，targetProject是指定在该项目下所在的路径。</p>

<blockquote>
  <p>The <sqlmapgenerator> element is used to define properties of the SQL map generator. The SQL Map Generator builds a MyBatis/iBATIS formatted SQL map XML file for each introspected table.</sqlmapgenerator></p>
</blockquote>

<p>sqlMapGenerator指Mapper映射文件生成所在的目录，为每一个数据库的表生成对应的SqlMap文件。</p>

<blockquote>
  <p>The <javaclientgenerator> element is used to define properties of the Java client generator. The Java client Generator builds Java interfaces and classes that allow easy use of the generated Java model and XML map files </javaclientgenerator></p>
</blockquote>

<p>javaClientGenerator客户端代码，生成易于使用的针对Model对象和XML配置文件 的代码。</p>

<p>根据需要我把以上3个配置项改成了如下</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="xml"><span class="line"><span class="nt">&lt;javaModelGenerator</span> <span class="na">targetPackage=</span><span class="s">&quot;com.company.project.dao.model&quot;</span> <span class="na">targetProject=</span><span class="s">&quot;16-adsapi-facebook&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line"><span class="nt">&lt;sqlMapGenerator</span> <span class="na">targetPackage=</span><span class="s">&quot;com.company.project.dao.mapper&quot;</span> <span class="na">targetProject=</span><span class="s">&quot;16-adsapi-facebook&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line"><span class="nt">&lt;javaClientGenerator</span> <span class="na">targetPackage=</span><span class="s">&quot;com.company.project.dao.client&quot;</span> <span class="na">targetProject=</span><span class="s">&quot;16-adsapi-facebook&quot;</span> <span class="na">type=</span><span class="s">&quot;XMLMAPPER&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>最后一个配置</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="xml"><span class="line"><span class="nt">&lt;table</span> <span class="na">schema=</span><span class="s">&quot;DB2ADMIN&quot;</span> <span class="na">tableName=</span><span class="s">&quot;ALLTYPES&quot;</span> <span class="na">domainObjectName=</span><span class="s">&quot;Customer&quot;</span> <span class="nt">&gt;</span>
</span><span class="line">  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;useActualColumnNames&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</span><span class="line">  <span class="nt">&lt;generatedKey</span> <span class="na">column=</span><span class="s">&quot;ID&quot;</span> <span class="na">sqlStatement=</span><span class="s">&quot;DB2&quot;</span> <span class="na">identity=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">  <span class="nt">&lt;columnOverride</span> <span class="na">column=</span><span class="s">&quot;DATE_FIELD&quot;</span> <span class="na">property=</span><span class="s">&quot;startDate&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">  <span class="nt">&lt;ignoreColumn</span> <span class="na">column=</span><span class="s">&quot;FRED&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">  <span class="nt">&lt;columnOverride</span> <span class="na">column=</span><span class="s">&quot;LONG_VARCHAR_FIELD&quot;</span> <span class="na">jdbcType=</span><span class="s">&quot;VARCHAR&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line"><span class="nt">&lt;/table&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>参数比较多，我直接改成了,很清楚就是表映射为domain对象，对于mysql，schema这个参数可以省略的。</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="xml"><span class="line"><span class="nt">&lt;table</span> <span class="na">tableName=</span><span class="s">&quot;myTable&quot;</span> <span class="na">domainObjectName=</span><span class="s">&quot;DomainObjectName&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>于是最终的测试生成文件是这样的</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="xml"><span class="line"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
</span><span class="line"><span class="cp">&lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot; &gt;</span>
</span><span class="line"><span class="nt">&lt;generatorConfiguration</span> <span class="nt">&gt;</span>
</span><span class="line">
</span><span class="line">    <span class="nt">&lt;classPathEntry</span> <span class="na">location=</span><span class="s">&quot;/home/evoup/project/mybatisGen/mysql-connector-java-5.1.39/mysql-connector-java-5.1.39-bin.jar&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">    <span class="nt">&lt;context</span> <span class="na">id=</span><span class="s">&quot;context1&quot;</span> <span class="nt">&gt;</span>
</span><span class="line">
</span><span class="line">        <span class="nt">&lt;jdbcConnection</span> <span class="na">driverClass=</span><span class="s">&quot;com.mysql.jdbc.Driver&quot;</span> <span class="na">connectionURL=</span><span class="s">&quot;jdbc:mysql://172.16.26.177:3306/adsapi&quot;</span> <span class="na">userId=</span><span class="s">&quot;dba&quot;</span> <span class="na">password=</span><span class="s">&quot;madsolution&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;javaModelGenerator</span> <span class="na">targetPackage=</span><span class="s">&quot;com.madhouse.performad.adsapi.facebook.dao.model&quot;</span> <span class="na">targetProject=</span><span class="s">&quot;16-adsapi-facebook&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;sqlMapGenerator</span> <span class="na">targetPackage=</span><span class="s">&quot;com.madhouse.performad.adsapi.facebook.dao.mapper&quot;</span> <span class="na">targetProject=</span><span class="s">&quot;16-adsapi-facebook&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;javaClientGenerator</span> <span class="na">targetPackage=</span><span class="s">&quot;com.madhouse.performad.adsapi.facebook.dao.client&quot;</span> <span class="na">targetProject=</span><span class="s">&quot;/home/evoup/project/16-adsapi-facebook&quot;</span> <span class="na">type=</span><span class="s">&quot;XMLMAPPER&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;table</span> <span class="na">schema=</span><span class="s">&quot;&quot;</span> <span class="na">tableName=</span><span class="s">&quot;facebook_ad&quot;</span> <span class="na">domainObjectName=</span><span class="s">&quot;FacebookAdModel&quot;</span><span class="nt">/&gt;</span>
</span><span class="line">
</span><span class="line">    <span class="nt">&lt;/context&gt;</span>
</span><span class="line"><span class="nt">&lt;/generatorConfiguration&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>生成
做了一个脚本</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line"><span class="c">#!/bin/sh</span>
</span><span class="line"><span class="nv">MYBATIS_HOME</span><span class="o">=</span>/home/evoup/project/mybatisGen/generator/core/mybatis-generator-core/target
</span><span class="line"><span class="c">#XML_HOME=/home/evoup/project/adsapi_3.0.19/adsapi-facebook/src/main/resources</span>
</span><span class="line"><span class="nv">XML_HOME</span><span class="o">=</span>/home/evoup/project/adsapi_trunk/adsapi-facebook/src/main/resources
</span><span class="line">java -jar <span class="k">${</span><span class="nv">MYBATIS_HOME</span><span class="k">}</span>/mybatis-generator-core-1.3.5-SNAPSHOT.jar -configfile <span class="k">${</span><span class="nv">XML_HOME</span><span class="k">}</span>/generatorConfigFB.xml -overwrite
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>运行脚本就可以生成了，最后将生成以下文件，见下图：
<img src="/images/evoup/mbGenerateFiles.jpg" alt="Alt text" /></p>

<p>最后补一个，xml文件还要放到spring项目的src/main/resource对应目录下，如果单单放在src/main/java对应目录下还是不行的</p>

</div>


      <footer>
        <p class="meta text-muted">
          
  

<span class="glyphicon glyphicon-user"></span> <span class="byline author vcard">Posted by <span class="fn">Evoup`s Blog</span></span>

          












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2016-08-15T13:45:00+08:00" pubdate data-updated="true">Aug 15<span>th</span>, 2016</time>
          

<span class="glyphicon glyphicon-tags"></span>&nbsp;
<span class="categories">
  
    <a class='category' href='/blog/categories/java/'>java</a>, <a class='category' href='/blog/categories/mybatis/'>mybatis</a>
  
</span>


        </p>
        
          <div class="bshare-custom"><a title="分享到QQ空间" class="bshare-qzone"></a><a title="分享到新浪微博" class="bshare-sinaminiblog"></a><a title="分享到人人网" class="bshare-renren"></a><a title="分享到腾讯微博" class="bshare-qqmb"></a><a title="分享到网易微博" class="bshare-neteasemb"></a><a title="更多平台" class="bshare-more bshare-more-icon more-style-addthis"></a><span class="BSHARE_COUNT bshare-share-count">0</span></div><script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/buttonLite.js#style=-1&amp;uuid=&amp;pophcol=2&amp;lang=zh"></script><script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/bshareC0.js"></script>
        
        
          <ul class="meta text-muted pager">
            
            <li class="previous"><a href="/blog/2016/07/11/latex-vim-pratice/" title="Previous Post: linux下latex中文配置小记">&laquo; linux下latex中文配置小记</a></li>
            
            
          </ul>
        
      </footer>
    </article>

  <section id="comment">
    <h1>发表评论</h1>
    <!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"evoupsight"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->
  </section>

  </div>

  
  <aside class="sidebar col-md-3">
    
      <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">最新发表</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item active" href="/blog/2016/08/15/idea-mybatis-codes-generator/">Mybatis生成器生成代码</a>
    
    <a class="list-group-item " href="/blog/2016/07/11/latex-vim-pratice/">Linux下latex中文配置小记</a>
    
    <a class="list-group-item " href="/blog/2015/04/21/javascript-class-define-5-method/">五类方法定义javascript类</a>
    
    <a class="list-group-item " href="/blog/2015/04/21/sync-fork-github/">同步github分支过来的代码库</a>
    
    <a class="list-group-item " href="/blog/2014/09/16/sqoop-dump-to-mysql/">Sqoop导出hive数据到mysql</a>
    
  </div>
</section>


<section>
<h1>分类</h1>
<span class='categories_tag'> <a href='/blog/categories/android' style='font-size: 118.75%'>Android(5)</a>  <a href='/blog/categories/c-language' style='font-size: 137.5%'>C-language(10)</a>  <a href='/blog/categories/centos' style='font-size: 103.75%'>Centos(1)</a>  <a href='/blog/categories/cocos2d-html5' style='font-size: 107.5%'>Cocos2d-html5(2)</a>  <a href='/blog/categories/cocos2d-iphone' style='font-size: 103.75%'>Cocos2d-iphone(1)</a>  <a href='/blog/categories/cocos2d-js' style='font-size: 107.5%'>Cocos2d-js(2)</a>  <a href='/blog/categories/cocos2d-x' style='font-size: 111.25%'>Cocos2d-x(3)</a>  <a href='/blog/categories/cplusplus' style='font-size: 122.5%'>Cplusplus(6)</a>  <a href='/blog/categories/ctags' style='font-size: 103.75%'>Ctags(1)</a>  <a href='/blog/categories/devops' style='font-size: 103.75%'>Devops(1)</a>  <a href='/blog/categories/erlang' style='font-size: 160.0%'>Erlang(16)</a>  <a href='/blog/categories/freebsd' style='font-size: 133.75%'>Freebsd(9)</a>  <a href='/blog/categories/gamedev-cg' style='font-size: 111.25%'>Gamedev-cg(3)</a>  <a href='/blog/categories/gcc' style='font-size: 103.75%'>Gcc(1)</a>  <a href='/blog/categories/golang' style='font-size: 107.5%'>Golang(2)</a>  <a href='/blog/categories/hadoop' style='font-size: 152.5%'>Hadoop(14)</a>  <a href='/blog/categories/haproxy' style='font-size: 103.75%'>Haproxy(1)</a>  <a href='/blog/categories/hbase' style='font-size: 115.0%'>Hbase(4)</a>  <a href='/blog/categories/hive' style='font-size: 118.75%'>Hive(5)</a>  <a href='/blog/categories/java' style='font-size: 130.0%'>Java(8)</a>  <a href='/blog/categories/javascript' style='font-size: 115.0%'>Javascript(4)</a>  <a href='/blog/categories/latex' style='font-size: 103.75%'>Latex(1)</a>  <a href='/blog/categories/linux' style='font-size: 107.5%'>Linux(2)</a>  <a href='/blog/categories/maven' style='font-size: 107.5%'>Maven(2)</a>  <a href='/blog/categories/mongodb' style='font-size: 103.75%'>Mongodb(1)</a>  <a href='/blog/categories/monitor' style='font-size: 137.5%'>Monitor(10)</a>  <a href='/blog/categories/mybatis' style='font-size: 103.75%'>Mybatis(1)</a>  <a href='/blog/categories/mysql' style='font-size: 118.75%'>Mysql(5)</a>  <a href='/blog/categories/nginx' style='font-size: 130.0%'>Nginx(8)</a>  <a href='/blog/categories/nosql' style='font-size: 103.75%'>Nosql(1)</a>  <a href='/blog/categories/octopress' style='font-size: 115.0%'>Octopress(4)</a>  <a href='/blog/categories/php' style='font-size: 148.75%'>Php(13)</a>  <a href='/blog/categories/python' style='font-size: 103.75%'>Python(1)</a>  <a href='/blog/categories/rrdtool' style='font-size: 126.25%'>Rrdtool(7)</a>  <a href='/blog/categories/shell' style='font-size: 130.0%'>Shell(8)</a>  <a href='/blog/categories/socket-server' style='font-size: 111.25%'>Socket server(3)</a>  <a href='/blog/categories/version-control' style='font-size: 126.25%'>Version_control(7)</a>  <a href='/blog/categories/vim' style='font-size: 122.5%'>Vim(6)</a>  <a href='/blog/categories/vmware' style='font-size: 103.75%'>Vmware(1)</a>  <a href='/blog/categories/zookeeper' style='font-size: 115.0%'>Zookeeper(4)</a> </span>
</section>

<section>
    <h1>新浪微博</h1>
    <ul id="weibo">
    <li>
    <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=2839412552&verifier=2533dcd4&dpc=1"></iframe>
    </li>
    </ul>
</section><section>
    <h1>友情链接</h1>
    <ul>
        <li>
            <a href="http://www.konanblog.info" target=_BLANK>Konan`s blog</a>
        </li>
    </ul>
	    <ul>
        <li>
            <a href="http://www.yrzhll.com/" target=_BLANK>蝶姐's Blog</a>
        </li>
    </ul>
</section><section>
<!--<h1>我的豆瓣主页</h1>-->
<div>
<!--<script type="text/javascript" src="http://www.douban.com/service/badge/evoupYin/?show=wishlist&n=9&columns=3&hidelogo=yes&cat=movie|book" ></script>-->
<script type="text/javascript" src="http://www.douban.com/service/badge/evoupYin/?selection=random&picsize=small&show=collection&n=3&cat=movie%7Cbook%7Cmusic&columns=3"></script>
</div>
</section>




<section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">最近访客</h3>
  </div>
  <div class="list-group">
    <ul class="ds-recent-visitors" data-num-items="10" ></ul>    
  </div>
</section>

    
  </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2016 - Evoup`s Blog<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>









<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F2793871dfb78c3a9ad26e39cae55c3a6' type='text/javascript'%3E%3C/script%3E"));
</script>

  </body>
</html>
