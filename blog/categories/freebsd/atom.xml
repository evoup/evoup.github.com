<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: freebsd | Evoup`s Blog]]></title>
  <link href="http://evoupsight.com/blog/categories/freebsd/atom.xml" rel="self"/>
  <link href="http://evoupsight.com/"/>
  <updated>2013-11-04T17:33:26+08:00</updated>
  <id>http://evoupsight.com/</id>
  <author>
    <name><![CDATA[Your Name]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[局域网计算机和vmware虚拟机互ping]]></title>
    <link href="http://evoupsight.com/blog/2013/10/22/vmware-ping-in-lan/"/>
    <updated>2013-10-22T13:35:00+08:00</updated>
    <id>http://evoupsight.com/blog/2013/10/22/vmware-ping-in-lan</id>
    <content type="html"><![CDATA[<h2>情景描述</h2>

<p>在公司的WIN7电脑上装了vmware进行服务端的开发，通过socket和client端进行通信。现在局域网中有若干台服务器安装了客户端要与vmware虚拟机上的server端进行通讯。由于不是处于一个网段，无法互相ping得地址，进而不能交互，以下为解决问题的过程笔录。</p>

<!-- more -->


<h2>我的环境</h2>

<p>`&ldquo;
  ,____________________
  |                   |  ,&rdquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;|   ,&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;Y
  |   gateway         |  |   gateway        |   |   gateway        |
  |                   |__|                  |   |                  |</p>

<pre><code>  172.16.27.38    |  |  172.16.27.1     |   |  172.16.30.254   |
</code></pre>

<p>  |                   |  |                  |   |                  |
  `&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;./  L<strong><strong><strong><strong><strong><strong><strong><strong><strong>|   |</strong></strong></strong></strong></strong></strong></strong></strong></strong>J</p>

<pre><code>       |                                              |
       |                                              |
       |                                              |
       |                                              |
       |                                              |
       |                                              |
</code></pre>

<p>   ,<strong><strong><strong>_|</strong></strong></strong>                                        |
   |             |        ,&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;<code>.        ,'''''''''''''</code>.
   |             |        |               |        |              |
   | WIN7        |        |   freebsd8    |        |   freebsd9   |
   |             |        |               |        |              |
   | VMWARE Host |        | VMWARE client |        |              |
   |             |&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;               |        |              |
   |             |        |     server    |        |    client    |
   | 172.16.27.37|        |192.168.216.145|        |172.16.30.184 |
   |             |        |               |        |              |
   |             |        |               |        |              |
   |             |        |               |        |              |
   &rsquo;<code>'''''''''''''       </code>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;&lsquo;        &rsquo;`&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;&lsquo;&rsquo;
```
A）WIN7所在vmware宿主机的网卡，地址为172.16.27.37/24(24代表子网掩码为255.255.255.0),默认网关172.16.27.38</p>

<p>B）Freebsd8 服务器所在的vmware虚拟机上原有一块NAT网卡em0，地址为192.168.216.145,一开始采用DHCP配置</p>

<p>C）Freebsd9 客户端上只有一块网卡epair38b,地址为172.16.30.184,默认网关为172.16.30.254</p>

<p>记录：</p>

<h2>实现A和B互通</h2>

<p>A到B，VMWARE直接就实现了。
B到A，需要添加一块bridge方式的网卡em0。使用sysinstall添加后，配置为172.16.27.59/24,默认网关172.16.27.38,注意在/etc/resolv.conf中加上这块网卡的dns，这里是172.16.27.38</p>

<h2>实现A和C互通</h2>

<p>A到C，网络规划的时候直接就通了，不在同一网关，在win7的网卡属性TCP/IPv4属性的高级TCP/IP设置中，选IP设置选项卡，然后在默认网关中添加C所在的网关172.16.30.254
C到A，网络规划的时候指定了，/etc/resolv.conf中nameserver 172.16.27.1，另一个网关也直接能通到A，只需要打开WIN7的ping防火墙即可，可以google之。</p>

<h2>实现B和C互通</h2>

<p>B到C，经过以上操作已经可以了。
C到B，同上。</p>
]]></content>
  </entry>
  
</feed>
