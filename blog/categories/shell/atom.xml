<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: shell | Evoup`s Blog]]></title>
  <link href="http://evoupsight.com/blog/categories/shell/atom.xml" rel="self"/>
  <link href="http://evoupsight.com/"/>
  <updated>2013-11-12T14:31:41+08:00</updated>
  <id>http://evoupsight.com/</id>
  <author>
    <name><![CDATA[Your Name]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[非常便捷的ssh信任制作脚本ssh-copy-id]]></title>
    <link href="http://evoupsight.com/blog/2013/10/17/ssh-copy-id/"/>
    <updated>2013-10-17T17:29:00+08:00</updated>
    <id>http://evoupsight.com/blog/2013/10/17/ssh-copy-id</id>
    <content type="html"><![CDATA[<p>手册一把原来这个工具就是shell脚本，ssh-copy-id这个工具可以方便的把公钥直接拷贝到对方服务器信任列表。比起来回切换服务器拷贝公钥方便多了。</p>

<!-- more -->


<p>实验：hostA: 172.16.30.184:22  hostB:211.136.104.189:9999
```bash</p>

<blockquote><p>ssh-keygen -t rsa</p></blockquote>

<p>Generating public/private rsa key pair.</p>

<p>Enter file in which to save the key (/home/yin/.ssh/id_rsa):</p>

<p>/home/yin/.ssh/id_rsa already exists.</p>

<p>Overwrite (y/n)? y</p>

<p>Enter passphrase (empty for no passphrase):</p>

<p>Enter same passphrase again:</p>

<p>Your identification has been saved in /home/yin/.ssh/id_rsa.</p>

<p>Your public key has been saved in /home/yin/.ssh/id_rsa.pub.</p>

<p>The key fingerprint is:</p>

<p>74:59:16:2c:01:0c:2a:21:b4:49:8d:0e:51:2f:d9:a4 <a href="&#x6d;&#x61;&#x69;&#108;&#116;&#x6f;&#x3a;&#x79;&#x69;&#110;&#x40;&#x79;&#x69;&#110;&#45;&#x61;&#x72;&#99;&#x68;&#x2e;&#109;&#x61;&#x64;&#104;&#x6f;&#x75;&#x73;&#x65;&#46;&#x63;&#x6e;">&#x79;&#x69;&#x6e;&#64;&#x79;&#105;&#110;&#x2d;&#x61;&#114;&#x63;&#x68;&#46;&#x6d;&#x61;&#100;&#x68;&#x6f;&#x75;&#x73;&#101;&#x2e;&#99;&#x6e;</a></p>

<p>The key&rsquo;s randomart image is:</p>

<p>+&mdash;[ RSA 2048]&mdash;&mdash;+</p>

<p>|+== . .o&hellip;o+.   |</p>

<p>|oooO .  . .+.    |</p>

<p>|ooE +   . o.     |</p>

<p>| . o   . .       |</p>

<p>|        S        |</p>

<p>|                 |</p>

<p>|                 |</p>

<p>|                 |</p>

<p>|                 |</p>

<p>+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
<code>
然后运行如下脚本，按照提示输入密码即可
</code>bash
ssh-copy-id &lsquo;-p 9999 -i /usr/home/yin/.ssh/id_rsa.pub <a href="&#109;&#x61;&#105;&#108;&#x74;&#x6f;&#58;&#121;&#105;&#x6e;&#x40;&#50;&#x31;&#x31;&#x2e;&#49;&#51;&#x36;&#46;&#x31;&#48;&#x34;&#x2e;&#x31;&#56;&#57;">&#121;&#105;&#110;&#x40;&#50;&#49;&#49;&#x2e;&#x31;&#51;&#54;&#46;&#x31;&#48;&#52;&#46;&#x31;&#56;&#57;</a>&rsquo;
```</p>

<p>参考：</p>

<p><a href="http://mikegerwitz.com/ssh-copy-id-and-sshd-port/">http://mikegerwitz.com/ssh-copy-id-and-sshd-port/</a></p>

<p><a href="http://blogread.cn/it/article/6103">http://blogread.cn/it/article/6103</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[批量删除CVS目录的cmd]]></title>
    <link href="http://evoupsight.com/blog/2008/07/20/delete-cvs-dir/"/>
    <updated>2008-07-20T23:23:00+08:00</updated>
    <id>http://evoupsight.com/blog/2008/07/20/delete-cvs-dir</id>
    <content type="html"><![CDATA[<p>windows下的bat的方法
```bat
@echo On
@Rem 删除CVS版本控制目录
@PROMPT [Com]#
@echo Find CVS</p>

<p>@for /r . %%a in (.) do @if exist &ldquo;%%a\CVS&rdquo; @echo &ldquo;%%a\CVS&rdquo;</p>

<p>@echo Find CVS Dir&hellip;.OK
@pause</p>

<p>@for /r . %%a in (.) do @if exist &ldquo;%%a\CVS&rdquo; rd /s /q &ldquo;%%a\CVS&rdquo;</p>

<p>@echo Clear CVS Dir Mission Completed</p>

<p>@pause
```</p>

<p>bash的话可以这么搞，参见<a href="http://stackoverflow.com/questions/1330136/script-to-recursively-delete-cvs-directory-on-server"><a href="http://stackoverflow.com/questions/1330136/script-to-recursively-delete-cvs-directory-on-server">http://stackoverflow.com/questions/1330136/script-to-recursively-delete-cvs-directory-on-server</a></a>
```bash</p>

<h1>!/bin/sh</h1>

<p>if [ -z &ldquo;$1&rdquo; ]; then</p>

<pre><code>echo "Usage: $0 path"
exit 1
</code></pre>

<p>fi</p>

<p>find &ldquo;$1&rdquo; -name &lsquo;CVS&rsquo; -type d -print0 | xargs -0 rm -Rf</p>

<h1>or find … -exec like you have, if you can&rsquo;t use -print0/xargs -0</h1>

<h1>print0/xargs will be slightly faster.</h1>

<p>```</p>
]]></content>
  </entry>
  
</feed>
